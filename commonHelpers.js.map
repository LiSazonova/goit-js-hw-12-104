{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function searchImage(query) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const params = new URLSearchParams({\n        key: '35791759-f811f161bd6e8c93b24d24d20',\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n    });\n\n    const url = `${BASE_URL}?${params}`;\n\n    return fetch(url).then(res => res.json());\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst imagesList = document.querySelector('.images-container');\n\nlet lightbox;\n\nexport function renderImages(images) {\n    const imageMarkup = images\n        .map(\n            img => `<li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${img.largeImageURL}\">\n        <img \n          class=\"gallery-image\" \n          width=\"360\"\n          src=\"${img.webformatURL}\" \n          alt=\"${img.tags}\" \n          />\n\n      </a>\n      <ul class='description'>\n      <li><strong>Likes</strong> ${img.likes}</li>\n      <li><strong>Views</strong> ${img.views}</li>\n      <li><strong>Comments</strong> ${img.comments}</li>\n      <li><strong>Downloads</strong> ${img.downloads}</li>\n      </ul>\n    </li>`\n        )\n        .join('');\n\n    imagesList.innerHTML = imageMarkup;\n}\n\nexport function initializeLightbox() {\n    lightbox = new SimpleLightbox('.images-container a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n    });\n}\n\nexport function refreshLightbox() {\n    if (lightbox) {\n        lightbox.refresh();\n    } else {\n        initializeLightbox();\n    }\n}","\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { searchImage } from \"./js/pixabay-api\";\nimport { renderImages, initializeLightbox, refreshLightbox } from \"./js/render-functions\";\n\n\nconst form = document.querySelector('.form');\nconst imagesList = document.querySelector('.images-container');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', e => {\n    e.preventDefault();\n\n    imagesList.innerHTML = '';\n\n    const query = e.target.elements.query.value.trim();\n\n    if (!query) {\n        iziToast.error({\n            message: 'Search field is empty',\n            position: 'topRight',\n        });\n        return;\n    }\n\n    showLoader();\n\n    searchImage(query)\n        .then(data => {\n            if (!data.hits.length) {\n                iziToast.error({\n                    message:\n                        'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                });\n                hideLoader();\n\n            } else {\n                setTimeout(() => {\n                    renderImages(data.hits);\n                    initializeLightbox();\n                    refreshLightbox();\n                    hideLoader();\n                }, 2000);\n            }\n        }).catch(error => {\n            hideLoader();\n        })\n\n    form.reset();\n});\n\nfunction showLoader() {\n    loader.style.display = 'block';\n}\n\nfunction hideLoader() {\n    loader.style.display = 'none';\n}"],"names":["searchImage","query","BASE_URL","params","url","res","imagesList","lightbox","renderImages","images","imageMarkup","img","initializeLightbox","SimpleLightbox","refreshLightbox","form","loader","e","iziToast","showLoader","data","hideLoader","error"],"mappings":"6vBAAO,SAASA,EAAYC,EAAO,CAC/B,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EAEKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAEjC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC5C,CCVA,MAAMC,EAAa,SAAS,cAAc,mBAAmB,EAE7D,IAAIC,EAEG,SAASC,EAAaC,EAAQ,CACjC,MAAMC,EAAcD,EACf,IACGE,GAAO;AAAA,sCACmBA,EAAI,aAAa;AAAA;AAAA;AAAA;AAAA,iBAItCA,EAAI,YAAY;AAAA,iBAChBA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,mCAKUA,EAAI,KAAK;AAAA,mCACTA,EAAI,KAAK;AAAA,sCACNA,EAAI,QAAQ;AAAA,uCACXA,EAAI,SAAS;AAAA;AAAA,UAG3C,EACA,KAAK,EAAE,EAEZL,EAAW,UAAYI,CAC3B,CAEO,SAASE,GAAqB,CACjCL,EAAW,IAAIM,EAAe,sBAAuB,CACjD,aAAc,MACd,aAAc,GACtB,CAAK,CACL,CAEO,SAASC,GAAkB,CAC1BP,EACAA,EAAS,QAAO,EAEhBK,GAER,CCtCA,MAAMG,EAAO,SAAS,cAAc,OAAO,EACrCT,EAAa,SAAS,cAAc,mBAAmB,EACvDU,EAAS,SAAS,cAAc,SAAS,EAE/CD,EAAK,iBAAiB,SAAUE,GAAK,CACjCA,EAAE,eAAc,EAEhBX,EAAW,UAAY,GAEvB,MAAML,EAAQgB,EAAE,OAAO,SAAS,MAAM,MAAM,OAE5C,GAAI,CAAChB,EAAO,CACRiB,EAAS,MAAM,CACX,QAAS,wBACT,SAAU,UACtB,CAAS,EACD,MACH,CAEDC,IAEAnB,EAAYC,CAAK,EACZ,KAAKmB,GAAQ,CACLA,EAAK,KAAK,OASX,WAAW,IAAM,CACbZ,EAAaY,EAAK,IAAI,EACtBR,IACAE,IACAO,GACH,EAAE,GAAI,GAbPH,EAAS,MAAM,CACX,QACI,2EACJ,SAAU,UAC9B,CAAiB,EACDG,IAUhB,CAAS,EAAE,MAAMC,GAAS,CACdD,GACZ,CAAS,EAELN,EAAK,MAAK,CACd,CAAC,EAED,SAASI,GAAa,CAClBH,EAAO,MAAM,QAAU,OAC3B,CAEA,SAASK,GAAa,CAClBL,EAAO,MAAM,QAAU,MAC3B"}